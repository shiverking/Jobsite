<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <!-- Basic Page Needs
    ================================================== -->
    <title>JoDice</title>
    <meta charset="utf-8" xmlns:th="http://www.thymeleaf.org">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="/assets/images/fav.png" type="image/gif" sizes="64x64">

    <!-- CSS
    ================================================== -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700&display=swap&subset=latin-ext"
          rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/all.min.css">
    <link href="/assets/css/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link href="/assets/css/select2.min.css" rel="stylesheet"/>
    <link href="/assets/css/owl.carousel.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/color-1.css">
    <!--提醒的样式-->
    <link href="/assets/css/light-theme.min.css" rel="stylesheet">
    <link href="/assets/css/dark-theme.min.css" rel="stylesheet">
    <link href="/assets/css/colored-theme.min.css" rel="stylesheet">
    <!--头像上传的样式-->
    <link  href="/assets/css/cover_css/ycbootstrap.css">
    <link  href="/assets/css/cover_css/reset.css">
    <!--富文本编辑器-->
    <script src="/assets/js/wangEditor.min.js"></script>


</head>
<body>

<!-- Header 01
================================================== -->
<header class="header_01 header_inner">
    <div class="header_main">
        <div class="header_menu fixed-top" th:include="/header.html"></div>
        <div class="header_btm">
            <h2>设置</h2>
        </div>
    </div>
</header>


<!-- Main 
================================================== -->
<main>
    <div class="job_container">
        <div class="container">
            <div class="row job_main">
                <div class="sidebar">
                    <h5>我的账户</h5>
                    <ul class="user_navigation">
                        <li class="is-active">
                            <a id="1"><i class="fas fa-user"></i>更新简历</a>
                        </li>
                        <li>
                            <a id="2"><i class="fas fa-key"></i>账户密码</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-at"></i>绑定邮箱</a>
                        </li>
                        <li>
                            <a href="#"><i class="far fa-address-card"></i>个人资料</a>
                        </li>
                        <li>
                            <a th:href="@{/logout}"><i class="fas fa-power-off"></i>登出</a>
                        </li>
                    </ul>
                </div>
                <div class="job_main_right">
                    <!--更新简历-->
                    <div class="row job_section">
                        <div class="col-sm-12">
                            <div class="jm_headings">
                                <h5>更新我的简历</h5>
                                <input class="btn btn-primary mypbtn" id="isProfileExist" type="button" th:value="预览简历" style="width: 13%"></input>
                            </div>
                            <div class="alert alert-danger" id="profileNotExist" style="width: 40%;display: none;" >
                                <strong>您目前没有简历，请先保存一个简历哦！</strong>
                            </div>
                            <div class="section-divider">
                            </div>
                            <form >
                                <input type="hidden" th:value="${isProfileExist}" id="staff_name1"/>
                                <input type="hidden" th:if="${profile.completiontime!=null}" th:value="${profile.completiontime}" id="staff_name2"/>
                                <input type="hidden" th:if="${profile.expertize_realm!=null}" th:value="${profile.expertize_realm}" id="staff_name3"/>
                                <input type="hidden" th:if="${profile.compensation!=null}" th:value="${profile.compensation}" id="staff_name4"/>
                                <input type="hidden" th:if="${profile.expertize_level!=null}" th:value="${profile.expertize_level}" id="staff_name5"/>
                                <input type="hidden" th:if="${profile.workexperience!=null}" th:value="${profile.workexperience}" id="staff_name6"/>
                                <input type="hidden" th:if="${profile.biography!=null}" th:value="${profile.biography}" id="staff_name7"/>
                                <div class="big_form_group">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>预期完成时间</label>
                                                <input id="completionTime" type="text" class="form-control"  placeholder="请填写您的预期工作完成时间,例如10小时，一天">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>专业领域</label>
                                                <input id="expertize_realm" type="text" class="form-control"  placeholder="请填写您擅长的专业领域,可以填写多个,以分隔">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>预期薪资</label>
                                                <input id="compensation" type="text" class="form-control"  placeholder="请填写您的期望薪酬,例如3000元">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>专业等级</label>
                                                <select id="expertize_level" class="form-control">
                                                    <option th:value="beginner">菜鸟</option>
                                                    <option th:value="intermediate">中级</option>
                                                    <option th:value="expert">专家</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>工作经验</label>
                                                <input id="workexperience" type="text" class="form-control" placeholder="请填写您的工作经验。例如：三年">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="big_form_group">
                                    <div class="row">

                                        <div class="col-md-12">
                                            <div class="form-group ">
                                                <h6>个人介绍</h6>
                                                <div id="div1">
                                                </div>
                                                <script type="text/javascript">
                                                    const E = window.wangEditor
                                                    const editor = new E('#div1')
                                                    editor.config.zIndex = 500
                                                    // 或者 const editor = new E( document.getElementById('div1') )
                                                    editor.create()
                                                </script>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-md-9">
                                        <input id="saveProfile" type="button" class="btn btn-primary" th:value="保存修改" style="width: 30%"></input>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                    <!--修改密码-->
                    <div class="row job_section">
                        <div class="col-sm-12">
                            <div class="jm_headings">
                                <h5>修改密码</h5>
                            </div>
                            <div class="section-divider">
                            </div>
                            <form>
                                <div class="form-group row">
                                    <div class="col-md-2">
                                        <h5>密码</h5>
                                    </div>
                                    <div class="col-md-9">
                                        <input type="password" class="form-control" id="password">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-2">
                                        <h5>新密码</h5>
                                    </div>
                                    <div class="col-md-9">
                                        <input type="password" class="form-control" id="newPassword">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-2">
                                        <h5>确认新密码</h5>
                                    </div>
                                    <div class="col-md-9">
                                        <input type="password" class="form-control" id="newPassword2">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-9 offset-md-2">
                                        <input id="confirmChangePassword" class="btn btn-primary" type="button"
                                               th:value="确定" style="width: 30%"></input>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!--绑定邮箱-->
                    <div class="row job_section">
                        <div class="col-sm-12">
                            <div class="jm_headings">
                                <h5>绑定邮箱</h5>
                            </div>
                            <!--提示-->
                            <div class="card" style="width: 65%">
                                <div class="card-header">
                                    <a class="card-link" data-toggle="collapse" href="#collapseOne">
                                        温馨提示
                                    </a>
                                </div>
                                <div id="collapseOne" class="collapse show" data-parent="#accordion">
                                    <div class="card-body">
                                        绑定邮箱后可获取「每周项目进度」邮件通知，建议填写企业邮箱地址。
                                    </div>
                                </div>
                            </div>
                            <form>
                              <div class="alert alert-light">
                                <strong>您当前绑定的邮箱是:<input id="boundemail" th:value ="${email}" disabled="disabled" style="width: 75%;border: none;background-color: transparent;"/></strong>
                              </div>
                                <div class="big_form_group">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label>邮箱地址</label>
                                                <input id="email" type="text" class="form-control"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-9 ">
                                        <input id="bindEmailConfirm" class="btn btn-primary" type="button"
                                               th:value="提交绑定" style="width: 30%"/>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!--个人资料-->
                    <div class="row job_section">
                        <div class="col-sm-12">
                            <div class="jm_headings">
                                <h5>基本资料</h5>
                            </div>
                            <div class="section-divider">
                            </div>
                            <form>

                                <div class="big_form_group">
                                    <div class="form-group" id="element_id">
                                        <div class="yc-upload-wrap">
                                            <div class="yc-upload-box">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-md-12 col-sm-12 col-xs-12" style="padding:0;">

                                                            <div class="ycupload-mainbox">
                                                                <div class="ycupload-main1" style="overflow:hidden;padding-left:25px;">
                                <span style="float:left;color:#ff5a5a;font-size:14px;line-height:60px;font-weight:900;margin-right:7px;">
                                    &middot;
                                </span>
                                                                    <span style="float:left;color:#333;font-size:16px;line-height:60px;margin-right:28px;">
                                    上传封面
                                </span>
                                                                </div>
                                                                <div class="ycupload-line"></div>
                                                                <div style="height:30px;"></div>
                                                                <div style="min-height:1px;">
                                                                    <div class="container">
                                                                        <div class="row">
                                                                            <div class="col-md-12 col-sm-12 col-xs-12" style="padding-right:0;padding-left:36px;">
                                                                                <!--<a href="javascript:void(0);" class="cover-uploadBtn">
                                                                                    <img src="img/yc_uploadimg_06.png">
                                                                                    <div id="clipArea"></div>
                                                                                    <input type="file" id="file">
                                                                                    <button id="clipBtn">截取</button>
                                                                                </a>
                                                                                <div id="view"></div>-->
                                                                                <div style="min-height:1px;line-height:160px;text-align:center;position:relative;" ontouchstart="">
                                                                                    <div class="cover-wrap" style="display:none;position:fixed;left:0;top:0;width:100%;height:100%;background: rgba(0, 0, 0, 0.4);z-index: 10000000;text-align:center;">
                                                                                        <div class="" style="width:900px;height:600px;margin:100px auto;background-color:#FFFFFF;overflow: hidden;border-radius:4px;">
                                                                                            <div id="clipArea" style="margin:10px;height: 520px;"></div>
                                                                                            <div class="" style="height:56px;line-height:36px;text-align: center;padding-top:8px;">
                                                                                                <button id="clipBtn" style="width:120px;height: 36px;border-radius: 4px;background-color:#ff8a00;color: #FFFFFF;font-size: 14px;text-align: center;line-height: 36px;outline: none;">保存封面</button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div id="view" style="width:214px;height:160.5px;" title="请上传 428*321 的封面图片"></div>
                                                                                    <div style="height:10px;"></div>
                                                                                    <div class="" style="width:140px;height:32px;border-radius: 4px;background-color:#ff8a00;color: #FFFFFF;font-size: 14px;text-align:center;line-height:32px;outline:none;margin-left:37px;position:relative;">
                                                                                        点击上传封面图
                                                                                        <input type="file" id="file" style="cursor:pointer;opacity:0;filter:alpha(opacity=0);width:100%;height:100%;position:absolute;top:0;left:0;">
                                                                                    </div>
                                                                                </div>


                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                                <div style="height:25px;"></div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <script type="text/javascript">
                                            //上传封面
                                            //document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
                                            var clipArea = new bjj.PhotoClip("#clipArea", {
                                                size: [428, 321],// 截取框的宽和高组成的数组。默认值为[260,260]
                                                outputSize: [428, 321], // 输出图像的宽和高组成的数组。默认值为[0,0]，表示输出图像原始大小
                                                //outputType: "jpg", // 指定输出图片的类型，可选 "jpg" 和 "png" 两种种类型，默认为 "jpg"
                                                file: "#file", // 上传图片的<input type="file">控件的选择器或者DOM对象
                                                view: "#view", // 显示截取后图像的容器的选择器或者DOM对象
                                                ok: "#clipBtn", // 确认截图按钮的选择器或者DOM对象
                                                loadStart: function () {
                                                    // 开始加载的回调函数。this指向 fileReader 对象，并将正在加载的 file 对象作为参数传入
                                                    $('.cover-wrap').fadeIn();
                                                    console.log("照片读取中");
                                                },
                                                loadComplete: function () {
                                                    // 加载完成的回调函数。this指向图片对象，并将图片地址作为参数传入
                                                    console.log("照片读取完成");
                                                },
                                                //loadError: function(event) {}, // 加载失败的回调函数。this指向 fileReader 对象，并将错误事件的 event 对象作为参数传入
                                                clipFinish: function (dataURL) {
                                                    // 裁剪完成的回调函数。this指向图片对象，会将裁剪出的图像数据DataURL作为参数传入
                                                    $('.cover-wrap').fadeOut();
                                                    $('#view').css('background-size', '100% 100%');
                                                    console.log(dataURL);
                                                }
                                            });
                                            //clipArea.destroy();
                                        </script>
                                        <h6>新用户名</h6>
                                        <input type="password" class="form-control" placeholder="真实姓名或英文名，请勿填写社交昵称">
                                        <h6>省份</h6>
                                        <select class="province form-control">
                                            <option value="浙江省" selected>浙江省</option>
                                        </select>
                                        <h6>地市</h6>
                                        <select class="city form-control">
                                        </select>
                                        <br>
                                        <select class="area form-control">
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-md-9 offset-md-2" style="margin-left: 0px">
                                        <input class="btn btn-primary" type="button" th:value="保存"
                                               style="width: 30%"></input>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<!-- Footer Container
================================================== -->
<footer id="colophon" class="site-footer custom_footer" th:include="/footer.html"/>


<!-- Scripts
================================================== -->
<script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/select2.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/owl.carousel.min.js"></script>
<script src="/assets/js/custom.js"></script>

<!--头像上传的js-->
<script src="/assets/js/cover_js/iscroll-zoom.js" type="text/javascript" charset="utf-8"></script>
<script src="/assets/js/cover_js/hammer.js" type="text/javascript" charset="utf-8"></script>
<script src="/assets/js/cover_js/lrz.all.bundle.js" type="text/javascript" charset="utf-8"></script>
<script src="/assets/js/cover_js/jquery.photoClip.min.js" type="text/javascript" charset="utf-8"></script>
<!--提醒有关的js-->
<script src="/assets/js/growl-notification.min.js"></script>
<!--地理位置选择下拉框js-->
<script src="/assets/js/jquery.cxselect.js"></script>
<!--自己写的js-->
<script src="/assets/js/setting.js"></script>
</body>
</html>
